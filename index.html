<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Hus_King's Note</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css" id="theme-css">
  <link rel="icon" type="image/svg+xml" href="_media/icon.svg">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify-sidebar-collapse/dist/sidebar.min.css" />
  
  <!-- æ·»åŠ é»‘æš—æ¨¡å¼CSSä½†é»˜è®¤ä¸å¯ç”¨ -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/dark.css" id="dark-theme-css" disabled="true">
  <style>
    /* è®¾ç½®ä¸­æ–‡å­—ä½“ä¸ºåæ–‡ä¸­å®‹ */
    body:lang(zh), h1:lang(zh), h2:lang(zh), h3:lang(zh), h4:lang(zh), h5:lang(zh), h6:lang(zh) {
      font-family: "åæ–‡ä¸­å®‹", "STZhongsong", serif !important;
    }

    /* è®¾ç½®è‹±æ–‡å­—ä½“ä¸º Times New Roman */
    body:lang(en), h1:lang(en), h2:lang(en), h3:lang(en), h4:lang(en), h5:lang(en), h6:lang(en) {
      font-family: "Times New Roman", Times, serif !important;
    }

    /* ç¡®ä¿æ®µè½å’Œå…¶ä»–æ–‡æœ¬å…ƒç´ ä¹Ÿåº”ç”¨ç›¸åº”å­—ä½“ */
    p:lang(zh) {
      font-family: "åæ–‡ä¸­å®‹", "STZhongsong", serif !important;
    }

    p:lang(en) {
      font-family: "Times New Roman", Times, serif !important;
    }

    /* å¦‚æœéœ€è¦ï¼Œå¯ä»¥ä¸ºä¾§è¾¹æ ç­‰ç‰¹å®šå…ƒç´ è®¾ç½®å­—ä½“ */
    .sidebar {
      font-family: "åæ–‡ä¸­å®‹", "STZhongsong", serif !important;
    }
  </style>
</head>
<body>
  <div id="app"></div>
  <!-- æ·»åŠ è‡ªå®šä¹‰çš„ç™½å¤©é»‘å¤œåˆ‡æ¢æŒ‰é’® -->
  <div style="position: fixed; top: 10px; right: 10px; z-index: 1000;">
    <toggle-button id="themeToggle"></toggle-button>
  </div>
  
  <!-- Docsify v4 -->
  <script>
    window.$docsify = {
      loadNavbar: true, // ä¿æŒ navbar åŠŸèƒ½ï¼Œä½†ç§»é™¤ fixed æ ·å¼
      loadSidebar: true,
      alias: {
        '/.*/_sidebar.md': '/_sidebar.md',
      },
      subMaxLevel: 2,
      sidebarDisplayLevel: 1, // è®¾ç½®ä¾§è¾¹æ é»˜è®¤å±•å¼€å±‚çº§
      coverpage: true,
      auto2top: true,
      logo: '_media/avatar.ico',
      name: 'Hus_King',
      nameLink: '/',
      repo: 'https://github.com/hus-king/note',
      themeColor: '#42b983', // è®¾ç½®ä¸»é¢˜è‰²ï¼Œä¿è¯åˆ‡æ¢æŒ‰é’®å¯è§
      // å…³é—­æœç´¢åŠŸèƒ½
      // search: {
      //   maxAge: 86400000, 
      //   paths: ['/', '/note/', '/algorithm/', '/tech/', '/uav/', '/Sach/'],
      //   placeholder: {
      //     '/zh-cn/': 'æœç´¢',
      //     '/': 'Type to search',
      //   },
      //   noData: {
      //     '/zh-cn/': 'æ‰¾ä¸åˆ°ç»“æœ',
      //     '/': 'No Results',
      //   },
      //   depth: 4,
      //   hideOtherSidebarContent: false,
      //   namespace: 'website-1',
      //   pathNamespaces: ['/zh-cn', '/ru-ru', '/ru-ru/v1'],
      // },
      
      // è‡ªå®šä¹‰ä¸»é¢˜è®¾ç½®
      executeScript: true, // å…è®¸æ‰§è¡Œé¡µé¢ä¸Šçš„è„šæœ¬
      progress: {
        position: 'top',
        color: 'var(--theme-color,#42b983)',
        height: '3px',
      },
    }
  </script>
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js"></script>
  <script src="//unpkg.com/docsify-pdf-embed-plugin/src/docsify-pdf-embed.js"></script>
  <!-- æ³¨é‡Šæ‰æœç´¢æ’ä»¶ -->
  <!-- <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script> -->
  <script src="//cdn.jsdelivr.net/npm/docsify-edit-on-github"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-clike.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-cpp.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-c.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
  <script src="//cdn.jsdelivr.net/npm/marked@4"></script>
  <!-- CDN files for docsify-katex -->
  <script src="//cdn.jsdelivr.net/npm/docsify-katex@latest/dist/docsify-katex.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-sidebar-collapse/dist/docsify-sidebar-collapse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-progress@latest/dist/progress.min.js"></script>
  <script src="//unpkg.com/@rakutentech/docsify-code-inline/dist/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-terminal-block@1.0.3"></script>
  
  <!-- è‡ªå®šä¹‰çš„ç™½å¤©é»‘å¤œåˆ‡æ¢æŒ‰é’®Web Componentå®ç° -->
  <script>
    class DayNightToggleButton extends HTMLElement {
      constructor() {
        super();
        this.isDark = localStorage.getItem('darkTheme') === 'true';
        this.render();
        this.setupEventListeners();
        this.applyTheme();
      }

      render() {
        const shadowRoot = this.attachShadow({ mode: 'open' });
        shadowRoot.innerHTML = `
          <style>
            .toggle-button {
              width: 60px;
              height: 30px;
              background-color: #f5f5f5;
              border-radius: 15px;
              display: flex;
              align-items: center;
              cursor: pointer;
              position: relative;
              transition: background-color 0.3s ease;
              border: 2px solid #ddd;
            }
            
            .toggle-button.dark {
              background-color: #333;
              border-color: #666;
            }
            
            .toggle-indicator {
              width: 26px;
              height: 26px;
              border-radius: 50%;
              background-color: #fff;
              box-shadow: 0 2px 5px rgba(0,0,0,0.2);
              position: absolute;
              left: 2px;
              transition: all 0.3s ease;
              display: flex;
              justify-content: center;
              align-items: center;
              overflow: hidden;
            }
            
            .toggle-button.dark .toggle-indicator {
              left: 32px;
              background-color: #ffdb4a;
            }
            
            .sun, .moon {
              position: absolute;
              transition: opacity 0.3s ease;
            }
            
            .sun {
              color: #ffdb4a;
              opacity: ${this.isDark ? 0 : 1};
            }
            
            .moon {
              color: #fff;
              opacity: ${this.isDark ? 1 : 0};
            }
            
            .toggle-button.dark .sun {
              opacity: 0;
            }
            
            .toggle-button.dark .moon {
              opacity: 1;
            }
          </style>
          <div class="toggle-button ${this.isDark ? 'dark' : ''}">
            <div class="toggle-indicator">
              <span class="sun">â˜€ï¸</span>
              <span class="moon">ğŸŒ™</span>
            </div>
          </div>
        `;
      }

      setupEventListeners() {
        const button = this.shadowRoot.querySelector('.toggle-button');
        button.addEventListener('click', () => {
          this.isDark = !this.isDark;
          localStorage.setItem('darkTheme', this.isDark);
          button.classList.toggle('dark');
          this.applyTheme();
        });
      }

      applyTheme() {
        const lightTheme = document.getElementById('theme-css');
        const darkTheme = document.getElementById('dark-theme-css');
        
        if (this.isDark) {
          lightTheme.disabled = true;
          darkTheme.disabled = false;
          document.body.classList.add('dark-theme');
        } else {
          lightTheme.disabled = false;
          darkTheme.disabled = true;
          document.body.classList.remove('dark-theme');
        }
      }
    }

    // æ³¨å†ŒWeb Component
    customElements.define('toggle-button', DayNightToggleButton);

    // åˆå§‹åŒ–ä¸»é¢˜
    document.addEventListener('DOMContentLoaded', () => {
      const isDark = localStorage.getItem('darkTheme') === 'true';
      const lightTheme = document.getElementById('theme-css');
      const darkTheme = document.getElementById('dark-theme-css');
      
      if (isDark) {
        lightTheme.disabled = true;
        darkTheme.disabled = false;
        document.body.classList.add('dark-theme');
      } else {
        lightTheme.disabled = false;
        darkTheme.disabled = true;
        document.body.classList.remove('dark-theme');
      }
    });
  </script>
</body>
</html>