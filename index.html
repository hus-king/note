<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Hus_King's Note</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
  <link rel="icon" type="image/svg+xml" href="_media/icon.svg">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify-sidebar-collapse/dist/sidebar.min.css" />
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/style.min.css" title="docsify-darklight-theme" type="text/css" />
  <style>
    /* è®¾ç½®ä¸­æ–‡å­—ä½“ä¸ºåæ–‡ä¸­å®‹ */
    body:lang(zh), h1:lang(zh), h2:lang(zh), h3:lang(zh), h4:lang(zh), h5:lang(zh), h6:lang(zh) {
      font-family: "åæ–‡ä¸­å®‹", "STZhongsong", serif !important;
    }

    /* è®¾ç½®è‹±æ–‡å­—ä½“ä¸º Times New Roman */
    body:lang(en), h1:lang(en), h2:lang(en), h3:lang(en), h4:lang(en), h5:lang(en), h6:lang(en) {
      font-family: "Times New Roman", Times, serif !important;
    }

    /* ç¡®ä¿æ®µè½å’Œå…¶ä»–æ–‡æœ¬å…ƒç´ ä¹Ÿåº”ç”¨ç›¸åº”å­—ä½“ */
    p:lang(zh) {
      font-family: "åæ–‡ä¸­å®‹", "STZhongsong", serif !important;
    }

    p:lang(en) {
      font-family: "Times New Roman", Times, serif !important;
    }

    /* å¦‚æœéœ€è¦ï¼Œå¯ä»¥ä¸ºä¾§è¾¹æ ç­‰ç‰¹å®šå…ƒç´ è®¾ç½®å­—ä½“ */
    .sidebar {
      font-family: "åæ–‡ä¸­å®‹", "STZhongsong", serif !important;
    }
  </style>
</head>
<body>
  <div id="app"></div>
  
  <!-- æ·»åŠ è‡ªå®šä¹‰çš„ç™½å¤©é»‘å¤œåˆ‡æ¢æŒ‰é’®å®¹å™¨ -->
  <div style="position: fixed; top: 10px; right: 10px; z-index: 1000;">
    <toggle-button id="customThemeToggle"></toggle-button>
  </div>
  
  <!-- Docsify v4 -->
  <script>
    window.$docsify = {
      loadNavbar: true, // ä¿æŒ navbar åŠŸèƒ½ï¼Œä½†ç§»é™¤ fixed æ ·å¼
      loadSidebar: true,
      alias: {
        '/.*/_sidebar.md': '/_sidebar.md',
      },
      subMaxLevel: 2,
      sidebarDisplayLevel: 1, // è®¾ç½®ä¾§è¾¹æ é»˜è®¤å±•å¼€å±‚çº§
      coverpage: true,
      auto2top: true,
      logo: '_media/avatar.ico',
      name: 'Hus_King',
      nameLink: '/',
      repo: 'https://github.com/hus-king/note',
      themeColor: '#42b983', // è®¾ç½®ä¸»é¢˜è‰²ï¼Œä¿è¯åˆ‡æ¢æŒ‰é’®å¯è§
      // å…³é—­æœç´¢åŠŸèƒ½
      // search: {
      //   maxAge: 86400000, 
      //   paths: ['/', '/note/', '/algorithm/', '/tech/', '/uav/', '/Sach/'],
      //   placeholder: {
      //     '/zh-cn/': 'æœç´¢',
      //     '/': 'Type to search',
      //   },
      //   noData: {
      //     '/zh-cn/': 'æ‰¾ä¸åˆ°ç»“æœ',
      //     '/': 'No Results',
      //   },
      //   depth: 4,
      //   hideOtherSidebarContent: false,
      //   namespace: 'website-1',
      //   pathNamespaces: ['/zh-cn', '/ru-ru', '/ru-ru/v1'],
      // },
      
      // æ·»åŠ æ·±è‰²æ¨¡å¼æ”¯æŒ
      darklightTheme: {
        siteFont: 'Source Sans Pro,Helvetica Neue,Arial,sans-serif',
        defaultTheme: 'light',
        dark: {
          background: '#1c2022',
          toggleBtnBg: '#34495e',
          textColor: '#b4b4b4'
        },
        light: {
          background: 'white',
          toggleBtnBg: 'var(--theme-color)',
          textColor: 'var(--text-color-base)'
        }
      },
      progress: {
        position: 'top',
        color: 'var(--theme-color,#42b983)',
        height: '3px',
      },
    }
  </script>
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js"></script>
  <script src="//unpkg.com/docsify-pdf-embed-plugin/src/docsify-pdf-embed.js"></script>
  <!-- æ³¨é‡Šæ‰æœç´¢æ’ä»¶ -->
  <!-- <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script> -->
  <script src="//cdn.jsdelivr.net/npm/docsify-edit-on-github"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/index.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-clike.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-cpp.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-c.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
  <script src="//cdn.jsdelivr.net/npm/marked@4"></script>
  <!-- CDN files for docsify-katex -->
  <script src="//cdn.jsdelivr.net/npm/docsify-katex@latest/dist/docsify-katex.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-sidebar-collapse/dist/docsify-sidebar-collapse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-progress@latest/dist/progress.min.js"></script>
  <script src="//unpkg.com/@rakutentech/docsify-code-inline/dist/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-terminal-block@1.0.3"></script>
  
  <!-- è‡ªå®šä¹‰çš„ç™½å¤©é»‘å¤œåˆ‡æ¢æŒ‰é’®Web Componentå®ç° -->
  <script>
    class DayNightToggleButton extends HTMLElement {
      constructor() {
        super();
        // è·å–å½“å‰ä¸»é¢˜çŠ¶æ€
        this.isDark = document.body.classList.contains('darkMode');
        this.render();
        this.setupEventListeners();
      }

      render() {
        const shadowRoot = this.attachShadow({ mode: 'open' });
        shadowRoot.innerHTML = `
          <style>
            .toggle-button {
              width: 60px;
              height: 30px;
              background-color: #f5f5f5;
              border-radius: 15px;
              display: flex;
              align-items: center;
              cursor: pointer;
              position: relative;
              transition: background-color 0.3s ease;
              border: 2px solid #ddd;
            }
            
            .toggle-button.dark {
              background-color: #333;
              border-color: #666;
            }
            
            .toggle-indicator {
              width: 26px;
              height: 26px;
              border-radius: 50%;
              background-color: #fff;
              box-shadow: 0 2px 5px rgba(0,0,0,0.2);
              position: absolute;
              left: 2px;
              transition: all 0.3s ease;
              display: flex;
              justify-content: center;
              align-items: center;
              overflow: hidden;
            }
            
            .toggle-button.dark .toggle-indicator {
              left: 32px;
              background-color: #ffdb4a;
            }
            
            .sun, .moon {
              position: absolute;
              transition: opacity 0.3s ease;
            }
            
            .sun {
              color: #ffdb4a;
              opacity: ${this.isDark ? 0 : 1};
            }
            
            .moon {
              color: #fff;
              opacity: ${this.isDark ? 1 : 0};
            }
            
            .toggle-button.dark .sun {
              opacity: 0;
            }
            
            .toggle-button.dark .moon {
              opacity: 1;
            }
          </style>
          <div class="toggle-button ${this.isDark ? 'dark' : ''}">
            <div class="toggle-indicator">
              <span class="sun">â˜€ï¸</span>
              <span class="moon">ğŸŒ™</span>
            </div>
          </div>
        `;
      }

      setupEventListeners() {
        const button = this.shadowRoot.querySelector('.toggle-button');
        button.addEventListener('click', () => {
          this.isDark = !this.isDark;
          button.classList.toggle('dark');
          
          // è§¦å‘åŸæœ‰çš„darklightä¸»é¢˜åˆ‡æ¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶
          const darklightBtn = document.querySelector('.darkmode-toggle');
          if (darklightBtn) {
            darklightBtn.click();
          }
        });
        
        // ç›‘å¬bodyç±»å˜åŒ–æ¥åŒæ­¥æŒ‰é’®çŠ¶æ€
        const observer = new MutationObserver((mutations) => {
          mutations.forEach((mutation) => {
            if (mutation.attributeName === 'class') {
              const isDarkMode = document.body.classList.contains('darkMode');
              const buttonElem = this.shadowRoot.querySelector('.toggle-button');
              if (isDarkMode !== this.isDark) {
                this.isDark = isDarkMode;
                if (isDarkMode) {
                  buttonElem.classList.add('dark');
                } else {
                  buttonElem.classList.remove('dark');
                }
              }
            }
          });
        });
        
        observer.observe(document.body, { attributes: true });
      }
    }

    // æ³¨å†ŒWeb Component
    customElements.define('toggle-button', DayNightToggleButton);
    
    // å°†åŸå§‹åˆ‡æ¢æŒ‰é’®éšè—
    document.addEventListener('DOMContentLoaded', () => {
      // ç­‰å¾…åŸæŒ‰é’®åŠ è½½
      setTimeout(() => {
        const originalToggleBtn = document.querySelector('.darkmode-toggle');
        if (originalToggleBtn) {
          originalToggleBtn.style.display = 'none';
        }
      }, 1000);
    });
  </script>
</body>
</html>



