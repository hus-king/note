# 1.3 集合运算的性质

设 $ E $ 为全集，$ A, B, C \in P(E) $. 下面的恒等式给出了集合运算的主要算律.

### 等幂律
$$
A \cup A = A
$$
$$
A \cap A = A
$$

### 结合律
$$
(A \cup B) \cup C = A \cup (B \cup C)
$$
$$
(A \cap B) \cap C = A \cap (B \cap C)
$$

### 交换律
$$
A \cup B = B \cup A
$$
$$
A \cap B = B \cap A
$$

### 分配律
$$
A \cup (B \cap C) = (A \cup B) \cap (A \cup C)
$$
$$
A \cap (B \cup C) = (A \cap B) \cup (A \cap C)
$$

### 零元律
$$
A \cup \varnothing = A
$$
$$
A \cap \varnothing = \varnothing
$$

### 单位律
$$
A \cup E = E
$$
$$
A \cap E = A
$$

### 吸收律
$$
A \cup (\sim A) = E
$$
$$
A \cap (\sim A) = \varnothing
$$

### 补余律
$$
A \cup (A \cap B) = A
$$
$$
A \cap (A \cup B) = A
$$

### 差集律
$$
A - (B \cup C) = (A - B) \cap (A - C)
$$
$$
A - (B \cap C) = (A - B) \cup (A - C)
$$

### 德摩根律
$$
\sim (B \cup C) = \sim B \cap \sim C
$$
$$
\sim (B \cap C) = \sim B \cup \sim C
$$

### 双重否定律
$$
\sim \sim A = A
$$

### 命题 2.1.1
(1) 对任意集合 $ A $，根据定义有
$$
A \times \varnothing = \varnothing, \quad \varnothing \times A = \varnothing.
$$

(2) 一般地说，笛卡儿积运算不满足交换律，即
$$
A \times B \neq B \times A \quad (\text{当 } A \neq \varnothing \land B \neq \varnothing \land A \neq B \text{ 时}).
$$

(3) 笛卡儿积运算不满足结合律，即
$$
(A \times B) \times C \neq A \times (B \times C) \quad (\text{当 } A \neq \varnothing \land B \neq \varnothing \land C \neq \varnothing \text{ 时}).
$$

(4) 笛卡儿积运算对并和交运算满足分配律，即
$$
A \times (B \cup C) = (A \times B) \cup (A \times C),
$$
$$
(B \cup C) \times A = (B \times A) \cup (C \times A),
$$
$$
A \times (B \cap C) = (A \times B) \cap (A \times C),
$$
$$
(B \cap C) \times A = (B \times A) \cap (C \times A).
$$

(5) 若 $ A \subseteq C, B \subseteq D $，则 $ A \times B \subseteq C \times D $.

### 定义 2.2.3
对任意集合 $ A $，$ A $ 上的全域关系 $ E_A $ 和恒等关系 $ I_A $ 分别定义为
$$
E_A = \{(x, y) | x \in A \land y \in A\} = A \times A,
$$
$$
I_A = \{(x, x) | x \in A\}.
$$

### 定义 2.3.3
设 $ F $ 和 $ G $ 均为二元关系，$ F $ 和 $ G $ 的复合（也称作 $ G $ 对 $ F $ 的右复合）记作 $ F \circ G $，定义为
$$
F \circ G = \{(x, z) | \exists y \text{ 使得 } (x, y) \in F, (y, z) \in G\}.
$$

#### 例 2.3.2
设 $ F = \{(3, 3), (6, 2)\}, G = \{(2, 3)\} $，则
$$
F^{-1} = \{(3, 3), (2, 6)\},
$$
$$
F \circ G = \{(6, 3)\},
$$
$$
G \circ F = \{(2, 3)\}.
$$

类似地，也可以定义关系的左复合，即
$$
F \circ G = \{(x, z) | \exists y \text{ 使得 } (x, y) \in G \land (y, z) \in F\}.
$$

如果把二元关系看作一种作用，则 $ (x, y) \in R $ 可以解释为 $ x $ 通过 $ R $ 的作用变为 $ y $，那么右复合 $ F \circ G $ 与左复合 $ F \circ G $ 都表示两个作用的连续发生。所不同的是：右复合 $ F \circ G $ 表示右边的 $ G $ 是复合到 $ F $ 上的第二步作用，而左复合 $ F \circ G $ 恰好相反，其中 $ F $ 是复合到 $ G $ 上的第二步作用。这两种规定都是合理的，正如在交通规则中有的国家规定右行，有的国家规定左行一样。本书采用右复合的定义，而在其他的书中可能采用左复合的定义，请读者注意两者的区别。

### 定义 2.3.4
设 $ R $ 是一个二元关系，$ A $ 是一个集合。
(1) $ R $ 在 $ A $ 上的限制，记作 $ R \upharpoonright A $，定义为
$$
R \upharpoonright A = \{(x, y) | (x, y) \in R, x \in A\}.
$$

(2) $ A $ 在 $ R $ 下的像，记作 $ R[A] $，定义为
$$
R[A] = \operatorname{ran}(R \upharpoonright A).
$$

不难看出，$ R $ 在 $ A $ 上的限制 $ R \upharpoonright A $ 是 $ R $ 的子关系，而 $ A $ 在 $ R $ 下的像 $ R[A] $ 是 $ \operatorname{ran} R $ 的子集。

### 定理 2.3.4
设 $ F, G, H $ 为任意关系，则
(1) $ F \circ (G \cup H) = F \circ G \cup F \circ H $.
(2) $ (G \cup H) \circ F = G \circ F \cup H \circ F $.
(3) $ F \circ (G \cap H) \subseteq F \circ G \cap F \circ H $.
(4) $ (G \cap H) \circ F \subseteq G \circ F \cap H \circ F $.

### 定理 2.3.5
设 $ F $ 为关系，$ A, B $ 为集合，则
(1) $ F \upharpoonright (A \cup B) = F \upharpoonright A \cup F \upharpoonright B $.
(2) $ F[A \cup B] = F[A] \cup F[B] $.
(3) $ F \upharpoonright (A \cap B) = F \upharpoonright A \cap F \upharpoonright B $.
(4) $ F[A \cap B] \subseteq F[A] \cap F[B] $.

### 定义 2.3.5
设 $ R $ 为 $ A $ 上的关系，$ n $ 为自然数，则 $ R $ 的 $ n $ 次幂 $ R^n $ 定义为
(1) $ R^0 = \{(x, x) | x \in A\} = I_A $,
(2) $ R^{n+1} = R^n \circ R $.

由以上定义可知，对于 $ A $ 上的任何关系 $ R_1 $ 和 $ R_2 $ 都有
$$
R_1^0 = R_2^0 = I_A.
$$

### 定理 2.3.6
设 $ A $ 为 $ n $ 元集，$ R $ 是 $ A $ 上的关系，则存在不相等的自然数 $ s $ 和 $ t $，使得 $ R^s = R^t $.

### 定理 2.3.7
设 $ R $ 为 $ A $ 上的关系，$ m, n \in \mathbb{N} $，则
(1) $ R^m \circ R^n = R^{m+n} $.
(2) $ (R^m)^n = R^{mn} $.

### 定理 2.3.8
设 $ R $ 为 $ A $ 上的关系，若存在自然数 $ s, t, s < t $，使得 $ R^s = R^t $，则
(1) 对任何 $ k \in \mathbb{N} $ 有 $ R^{s+k} = R^{t+k} $.
(2) 对任何 $ k, i \in \mathbb{N} $ 有 $ R^{s+kp+i} = R^{s+i} $，其中 $ p = t-s $.
(3) 令 $ S = \{R^0, R^1, \ldots, R^{t-1}\} $，则对于任意的 $ q \in \mathbb{N} $ 有 $ R^q \in S $.

---

# 2.4 关系的性质

关系的性质主要有以下 5 种：自反性、反自反性、对称性、反对称性和传递性.

### 定义 2.4.1
设 $ R $ 为 $ A $ 上的关系.
(1) 若对任意 $ x \in A $，均有 $ \langle x, x \rangle \in R $，则称 $ R $ 为 $ A $ 上的自反关系.
(2) 若对任意 $ x \in A $，均有 $ \langle x, x \rangle \notin R $，则称 $ R $ 为 $ A $ 上的反自反关系.

### 定义 2.4.2
设 $ R $ 为 $ A $ 上的关系.
(1) 若对任意 $ \langle x, y \rangle \in R $，均有 $ \langle y, x \rangle \in R $，则称 $ R $ 为 $ A $ 上的对称关系.
(2) 若当 $ \langle x, y \rangle \in R $ 且 $ \langle y, x \rangle \in R $ 时，必有 $ x = y $，则称 $ R $ 为 $ A $ 上的反对称关系.

### 定义 2.4.3
设 $ R $ 为 $ A $ 上的关系，若当 $ \langle x, y \rangle \in R $ 且 $ \langle y, z \rangle \in R $ 时，必有 $ \langle x, z \rangle \in R $，则称 $ R $ 为 $ A $ 上的传递关系.

### 解
$ R_1 $ 和 $ R_3 $ 是 $ A $ 上的传递关系，$ R_2 $ 不是 $ A $ 上的传递关系.

下面分别给出这 5 种性质成立的充分必要条件.

### 定理 2.4.1
设 $ R $ 为 $ A $ 上的关系，则
(1) $ R $ 在 $ A $ 上自反当且仅当 $ I_A \subseteq R $.
(2) $ R $ 在 $ A $ 上反自反当且仅当 $ R \cap I_A = \varnothing $.
(3) $ R $ 在 $ A $ 上对称当且仅当 $ R = R^{-1} $.
(4) $ R $ 在 $ A $ 上反对称当且仅当 $ R \cap R^{-1} \subseteq I_A $.
(5) $ R $ 在 $ A $ 上传递当且仅当 $ R \circ R \subseteq R $.

### 性质表

| 表示形式       | 自反性               | 反自反性             | 对称性               | 反对称性             | 传递性               |
|----------------|----------------------|----------------------|----------------------|----------------------|----------------------|
| **集合表达式** | $ I_A \subseteq R $ | $ R \cap I_A = \varnothing $ | $ R = R^{-1} $     | $ R \cap R^{-1} \subseteq I_A $ | $ R \circ R \subseteq R $ |
| **关系矩阵**   | 主对角线元素全是 1   | 主对角线元素全是 0   | 矩阵是对称矩阵      | 若 $ r_{ij} = 1 $ 且 $ i \neq j $，则 $ r_{ji} = 0 $ | 对 $ M^2 $ 中 1 所在的位置，$ M $ 中相应的位置都是 1 |
| **关系图**     | 每个顶点都有环       | 每个顶点都没有环     | 如果两个顶点之间有边，那么一定是一对方向相反的边（无单边） | 如果两个顶点之间有边，那么一定是两条有向边（无双向边） | 如果从顶点 $ x_i $ 到 $ x_j $ 有边，从 $ x_j $ 到 $ x_k $ 有边，那么从 $ x_i $ 到 $ x_k $ 也有边 |

```
