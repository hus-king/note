# VMware 虚拟机扩展磁盘空间的简单方法

## 一、简介

在平时使用虚拟机时，经常会遇到安装的虚拟机磁盘空间不足的情况。此时需要对系统进行磁盘空间的扩展。网上的很多教程都是通过输入一堆命令，进行申请、分配、初始化、挂载等操作，过程繁琐。今天介绍一种**最简单、最实用的方法**。

---

## 二、实操步骤

### 1. 进入 root 权限界面

```bash
sudo su
```

输入密码后即可切换到 root 权限。

---

### 2. 查看当前磁盘剩余空间

使用以下命令查看当前磁盘使用情况：

```bash
df -h
```

可以看到当前磁盘容量为 40G，已使用 20G。我们接下来将添加 5G 空间。

---

### 3. 关闭虚拟机并扩展磁盘容量

> ⚠️ 注意：必须关闭虚拟机才能进行此操作！

在 VMware 中：

- 找到虚拟机设置；
- 调整“最大磁盘大小”；
- 点击 **扩展**，然后点击 **确定**；
- 设置成功后，虚拟机的磁盘大小会显示为新的容量。

---

### 4. 启动虚拟机

重新启动系统后继续后续操作。

---

### 5. 安装 GParted 工具

GParted 是一个图形化的分区管理工具，可以帮助用户快速调整磁盘分区。

安装命令如下：

```bash
sudo apt-get install gparted
```

安装完成后，在系统菜单中可以找到该软件。

---

### 6. 使用 GParted 分配新增磁盘空间

#### 步骤如下：

1. 打开 GParted 软件；
2. 输入管理员密码进行验证；
3. 进入软件界面后，可以看到新增的“未分配”空间。

#### 扩展已有分区：

- 右键点击已有的主分区（如 `/dev/sda1`）；
- 选择 **Resize/Move**；
- 拖动滑块至最大位置；
- “新大小”应显示为扩展后的总容量（如 45G），空闲空间应为 0；
- 点击 **Resize/Move**。

#### 应用更改：

- 点击左上角的 **√** 图标；
- 弹出窗口中点击 **Apply**；
- 等待操作完成；
- 点击 **Close** 关闭操作窗口；
- 最后退出 GParted。

---

### 7. 确认磁盘扩展结果

#### 方法一：打开文件管理器查看

进入文件夹 -> “其他位置”，查看本机系统的磁盘容量是否已变为 45G。

#### 方法二：使用命令行查看

```bash
df -h
```

可以看到磁盘容量已经从原来的 40G 变为了 45G。

---

## 三、总结

通过以上步骤，我们完成了对虚拟机磁盘的扩展操作。整个过程无需复杂的命令，只需通过 VMware 和 GParted 的图形化操作即可轻松实现。